<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная</title>
    <link href="../styles/contact.css" rel="stylesheet"> 
    <style>
        @font-face {
            font-family: 'Inter-Medium';
            src: url('assets/fonts/Inter-Medium.otf') format('truetype');
        }
        @font-face {
            font-family: 'Inter-SemiBold';
            src: url('assets/fonts/Inter-SemiBold.otf') format('truetype');
        }
    </style>
</head>
<body>

    <header>
        <img src="../assets/images/Logo.svg" alt="Логотип" class="log">
        <nav class="nav-desktop">
             <a href="../index.html">Главная</a>
             <a href="adout.html">О нас</a>
             <a href="blog.html">Блог</a>
             <a href="pricing.html">Стоимость</a>
             <a href="contact.html">Контакты</a>
         </nav>
         
         <!-- Бургер-меню -->
         <div class="hamburger-menu">
             <input id="menu__toggle" type="checkbox">
             <label class="menu__btn" for="menu__toggle">
                 <span></span>
             </label>
     
             <ul class="menu__box">
                 <li><a class="menu__item" href="../index.html">Главная</a></li>
                 <li><a class="menu__item" href="adout.html">О нас</a></li>
                 <li><a class="menu__item" href="blog.html">Блог</a></li>
                 <li><a class="menu__item" href="pricing.html">Стоимость</a></li>
                 <li><a class="menu__item" href="contact.html">Контакты</a></li>
             </ul>
         </div>
     </header>

<section class="text" style="background-color: white;">
    <h1>Свяжитесь с нашей командой чтобы узнать больше</h1>
</section>

<section class="container">
    <div class="map-container">
        <img src="../assets/images/map.png" alt="Карта" style="width: 100%;">
    </div>

    <div class="info-container">
        <h2>Поддержка</h2>
        <p>Наша дружелюбная команда поможет вам</p>
        <h3>support@sars.com</h3>

        <h2>Отдел продаж</h2>
        <p>Вопросы или пожелания? Свяжитесь с нами!</p>
        <h3>sales@sars.com</h3>

        <h2>Телефон</h2>
        <p>Наша дружелюбная команда поможет вам</p>
        <h3>+373 (44) 560-88-55</h3>
    </div>
</section>

<section class="form-section">
    <div class="form-container">
        <h2>Повышайте уровень своего бренда</h2>
        <p>Вы можете связаться с нами в любое время <br> 
            <a href="mailto:hellosansbrothers@gmail.com">hellosansbrothers@gmail.com</a>
        </p>
        <form class="registration-form">
            <div id="error-message" style="color: red; margin-top: 0px; margin-bottom: 0px;"></div>
                <div class="input-wrapper">
                    <label for="first-name">Имя</label>
                    <input type="text" id="first-name" placeholder="Имя" required>
                </div>
                <div class="input-wrapper">
                    <label for="last-name">Фамилия</label>
                    <input type="text" id="last-name" placeholder="Фамилия" required>
                </div>
            
            <div class="input-wrapper">
                <label for="email">Email</label>
                <input type="email" id="email" placeholder="you@company.com" required>
            </div>
          <!--  
            <div class="input-wrapper">
                <label for="phone">Телефон</label>
                <input type="tel" id="phone" placeholder="+375 (55) 000-0000" required>
            </div>-->
            <div class="input-wrapper">
                <label for="tariff">Выберите тариф</label>
                <select id="tariff">
                    <option>Стартовый</option>
                    <option>Популяный</option>
                    <option>Предприятие</option>
                </select>
            </div>
            <div class="input-wrapper">
                <label for="comment">Комментарий</label>
                <textarea id="comment" placeholder="Оставьте комментарий к заявке"></textarea>
            </div>
            <button type="submit">Начать</button>
        </form>
    </div>
    <div class="form-image">
        <img src="../assets/images/blog-form.jpg" alt="Фоновое изображение">
    </div>
</section>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const firstName = document.getElementById('first-name');
        const lastName = document.getElementById('last-name');
        const email = document.getElementById('email');
        const phone = document.getElementById('phone');
        const submitButton = document.querySelector('button[type="submit"]');
        const errorMessage = document.getElementById('error-message');
        const comment = document.getElementById('comment');

        // Удаление пробелов и ограничение длины для имени и фамилии
        function validateTextInput(input) {
            input.value = input.value.replace(/\s/g, '').replace(/[^a-zA-Zа-яА-ЯёЁ]/g, '');
            if (input.value.length > 20) {
                input.value = input.value.slice(0, 20);
            }
        }

        firstName.addEventListener('input', function () { validateTextInput(this); });
        lastName.addEventListener('input', function () { validateTextInput(this); });

        // Проверка email
        function validateEmail(emailValue) {
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailPattern.test(emailValue);
        }

        email.addEventListener('input', function () {
            this.value = this.value.replace(/\s/g, ''); // Убираем пробелы
            if (!validateEmail(this.value) && this.value.length > 0) {
                errorMessage.textContent = "Введите корректный email (пример: example@mail.com)";
                submitButton.disabled = true;
            } else {
                errorMessage.textContent = "";
                checkFormValidity();
            }
        });
/*
        phone.addEventListener('input', function () {
            let numbers = this.value.replace(/\D/g, '');
            if (!numbers.startsWith('375')) {
                numbers = '375' + numbers;
            }
            numbers = numbers.slice(0, 12);
            
            let formatted = `+${numbers.slice(0, 3)}`;
            if (numbers.length > 3) formatted += ` (${numbers.slice(3, 5)}`;
            if (numbers.length > 5) formatted += `) ${numbers.slice(5, 8)}`;
            if (numbers.length > 8) formatted += `-${numbers.slice(8, 10)}`;
            if (numbers.length > 10) formatted += `-${numbers.slice(10, 12)}`;
            
            this.value = formatted;
            
            const phoneError = document.createElement("div");
            phoneError.style.color = "red";
            phoneError.style.marginTop = "0px";
            phoneError.style.marginBottom="0px";
            phoneError.id = "phone-error";
            
            if (numbers.length < 12) {
                phoneError.textContent = "Введите полный номер телефона!";
                if (!document.getElementById("phone-error")) {
                    this.parentNode.appendChild(phoneError);
                }
                submitButton.disabled = true;
            } else {
                if (document.getElementById("phone-error")) {
                    document.getElementById("phone-error").remove();
                }
                checkFormValidity();
            }
        });
*/
        //проверка комментария
        comment.addEventListener('input', function () {
            this.value = this.value
                .replace(/^\s+/, '') // Убираем пробелы в начале
                .replace(/\s{2,}/g, ' '); // Заменяем два и более пробела на один

            if (this.value.length > 200) {
                this.value = this.value.slice(0, 200);
            }
        });
    
        function checkFormValidity() {
            const isNameValid = firstName.value.trim().length > 0;
            const isLastNameValid = lastName.value.trim().length > 0;
            const isEmailValid = validateEmail(email.value);
          //  const isPhoneValid = phone.value.replace(/\D/g, '').length === 12; // Проверка: есть ли 12 цифр
           // return isNameValid && isLastNameValid && isEmailValid && isPhoneValid;

            // Если одно из полей не заполнено, кнопка неактивна
            submitButton.disabled = !(isNameValid && isLastNameValid && isEmailValid);
        }
    // Обработчик отправки формы
    document.getElementById("form").addEventListener('submit', function(event) {
            event.preventDefault();  // Остановить отправку формы

            if (!checkFormValidity()) {
                // Если форма невалидна
                errorMessage.textContent = "Пожалуйста, заполните все обязательные поля!";
            } else {
                // Если все обязательные поля заполнены
                errorMessage.textContent = "";
                alert("Форма успешно отправлена!");
                this.reset();  // Сброс формы
                
            }
        });
    });
</script>

<footer>

    <div class="footer-container">
        <div class="footer-content">
            <h1>Технологии, которые растят ваш бизнес</h1>
            <p>Узнайте больше о наших решениях, ценах, внедрении и многом другом. Наши опытные специалисты всегда готовы помочь.</p>
        </div>
        <div class="footer-links">
            <div class="logo">
                <img src="../assets/images/logobel.png" alt="Логотип" class="logo">
            </div>
            <nav>
                <a href="../index.html">Главная</a>
                <a href="adout.html">О нас</a>
                <a href="blog.html">Блог</a>
                <a href="pricing.html">Стоимость</a>
                <a href="contact.html">Контакты</a>
            </nav>
        </div>
    </div>
    <div class="footer-bottom">
        <p>© Copyright 2023 All Rights Reserved</p>
    </div>
</footer>

</body>
</html>